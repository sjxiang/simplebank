

# 提高服务效率，异步


1. 简易
    goroutine 挂后台，一宕机，就歇菜 
    
2. 稳妥
    redis + Asynq



# 流程

请求 -》backend -》broker -》redis


# feature

事务（两个步骤，随便哪个出问题，都要回滚）
打日志，方便调试
日志格式 diy，可读 
设置合理的延迟，防止高峰期流量大，db 事务还没提交，异步任务已经齐活了（结果查询 db 为空）

